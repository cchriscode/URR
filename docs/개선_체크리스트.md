# âœ… í”„ë¡œì íŠ¸ ê°œì„  ì²´í¬ë¦¬ìŠ¤íŠ¸

> **í”„ë¡œì íŠ¸**: ëŒ€ê·œëª¨ ë™ì‹œ ì ‘ì† í‹°ì¼“ ì˜ˆë§¤ í”Œë«í¼
> **ê°œì„  ì „**: TIKETI (Node.js + React)
> **ê°œì„  í›„**: URR (Spring Boot + Next.js)

---

## 1. ê°œì„  ì „ ì‘ì—…ë¬¼

**í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°:**
```
project-ticketing/
â”œâ”€â”€ backend/                   â† Express ëª¨ë†€ë¦¬ì‹ Gateway (server.js 248ì¤„)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ routes/            â† í”„ë¡ì‹œ ë¼ìš°íŠ¸ + _legacy_backup/ í´ë” ì”ì¡´
â”‚       â”œâ”€â”€ middleware/        â† auth.js (JWT ê²€ì¦ - ì¤‘ë³µ ì½”ë“œ ì›ë³¸)
â”‚       â””â”€â”€ services/          â† ë°±ê·¸ë¼ìš´ë“œ íƒœìŠ¤í¬ (ì¼ë¶€ ì£¼ì„ ì²˜ë¦¬ë¨)
â”œâ”€â”€ services/                  â† Node.js MSA 4ê°œ
â”‚   â”œâ”€â”€ auth-service/          â† JWT + Google OAuth
â”‚   â”œâ”€â”€ ticket-service/        â† ì´ë²¤íŠ¸, ì¢Œì„, ì˜ˆë§¤
â”‚   â”œâ”€â”€ payment-service/       â† í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ
â”‚   â””â”€â”€ stats-service/         â† í†µê³„
â”œâ”€â”€ services-spring/           â† âš ï¸ ë¹ˆ ë””ë ‰í† ë¦¬ (ê³„íšë§Œ ì¡´ì¬)
â”‚   â”œâ”€â”€ auth-service/          â† ë¹ˆ í´ë”
â”‚   â”œâ”€â”€ gateway-service/       â† ë¹ˆ í´ë”
â”‚   â”œâ”€â”€ ticket-service/        â† ë¹ˆ í´ë”
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/                  â† React 18.2 CRA (JavaScript)
â”‚   â””â”€â”€ src/pages/             â† 28ê°œ í˜ì´ì§€ (ê°ê° .js + .css íŒŒì¼)
â”œâ”€â”€ packages/                  â† npm ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê³µìœ  ì½”ë“œ
â”œâ”€â”€ k8s/                       â† ë²ˆí˜¸ ê¸°ë°˜ flat YAML (00~ 14ë²ˆ)
â”œâ”€â”€ monitoring/                â† Prometheus/Grafana ì„¤ì • 5ê°œ íŒŒì¼
â””â”€â”€ .github/workflows/         â† CI/CD 5ê°œ (ê°œë³„ ì‘ì„±, ì¤‘ë³µ)
```

### ì‘ì—…ë¬¼ ì„¤ëª…

TIKETIëŠ” ì½˜ì„œíŠ¸, ë®¤ì§€ì»¬ ë“± ì´ë²¤íŠ¸ í‹°ì¼“ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜ˆë§¤í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì´ë‹¤. Node.js(Express) ê¸°ë°˜ API Gatewayì™€ 4ê°œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤, React SPA í”„ë¡ íŠ¸ì—”ë“œë¡œ êµ¬ì„±ë˜ì—ˆë‹¤.

**ê¸°ìˆ  ìŠ¤íƒ:**

| ë ˆì´ì–´ | ê¸°ìˆ  |
|--------|------|
| í”„ë¡ íŠ¸ì—”ë“œ | React 18.2 (CRA), JavaScript, React Router 6, Socket.IO |
| ë°±ì—”ë“œ Gateway | Node.js 18 + Express 4.18 (ëª¨ë†€ë¦¬ì‹ server.js 248ì¤„) |
| ë°±ì—”ë“œ MSA | Node.js ì„œë¹„ìŠ¤ 4ê°œ (auth, ticket, payment, stats) |
| ë°ì´í„°ë² ì´ìŠ¤ | PostgreSQL 15 ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ (ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬) |
| ìºì‹œ/í | DragonflyDB (Redis í˜¸í™˜), Redis Pub/Sub |
| ì¸í”„ë¼ | Kind ë¡œì»¬ K8s, ë²ˆí˜¸ ê¸°ë°˜ YAML ë§¤ë‹ˆí˜ìŠ¤íŠ¸ 15ê°œ |
| CI/CD | GitHub Actions ì›Œí¬í”Œë¡œìš° 5ê°œ (ì„œë¹„ìŠ¤ë³„ ê°œë³„, ì¬ì‚¬ìš© ì—†ìŒ) |
| ëª¨ë‹ˆí„°ë§ | Prometheus + Grafana + Loki + Promtail |

**ì£¼ìš” ë¬¸ì œì :**

1. **ì½”ë“œ ì¤‘ë³µ**: ì¸ì¦ ë¯¸ë“¤ì›¨ì–´(`auth.js`)ê°€ `backend/`, `services/ticket-service/`, `services/payment-service/`, `services/stats-service/` 4ê³³ì— ê±°ì˜ ë™ì¼í•œ ì½”ë“œë¡œ ë³µì‚¬-ë¶™ì—¬ë„£ê¸°ë¨. í•œ ê³³ì„ ìˆ˜ì •í•˜ë©´ ë‚˜ë¨¸ì§€ 3ê³³ë„ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì • í•„ìš”
2. **ë³´ì•ˆ ì·¨ì•½**: JWT_SECRETì— í•˜ë“œì½”ë”©ëœ ê¸°ë³¸ê°’(`'dev-only-secret-change-in-production-...'`)ì´ 3ê°œ ì„œë¹„ìŠ¤ì— ë…¸ì¶œ. Rate Limiting, VWR ëŒ€ê¸°ì—´, í—¤ë” ìŠ¤í‘¸í•‘ ë°©ì§€ ëª¨ë‘ ì—†ìŒ
3. **í…ŒìŠ¤íŠ¸ ë¶€ì¬**: ë°±ì—”ë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 0ê°œ, ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì—†ìŒ
4. **ì¸í”„ë¼ ë¯¸ë¹„**: Terraform ì—†ìŒ, NetworkPolicy ì—†ìŒ, Staging í™˜ê²½ ì—†ìŒ, Blue-Green ë°°í¬ ì—†ìŒ
5. **í”„ë¡ íŠ¸ì—”ë“œ í•œê³„**: React CRA + JavaScript â†’ SSR ë¶ˆê°€, íƒ€ì… ì•ˆì „ì„± ì—†ìŒ, í˜ì´ì§€ë³„ CSS ì¶©ëŒ ìœ„í—˜
6. **ìœ ì‚¬ MSA**: ë‹¨ì¼ PostgreSQLì— ìŠ¤í‚¤ë§ˆë§Œ ë¶„ë¦¬ â†’ ì§„ì •í•œ DB ê²©ë¦¬ê°€ ì•„ë‹˜
7. **ë¡œê¹…**: `console.log()`/`console.error()` 362ê±´ â†’ êµ¬ì¡°í™”ë˜ì§€ ì•Šì€ ë¡œê·¸

---

## 2. ë°›ì€ í”¼ë“œë°± ì •ë¦¬

### í”¼ë“œë°± ì œê³µì ì •ë³´

- **ì œê³µì**: í”„ë¡œì íŠ¸ ì½”ë“œ ë¦¬ë·° ë° ì•„í‚¤í…ì²˜ ê°ì‚¬ (íŒ€ ë‚´ë¶€ ë¦¬ë·° + ë©˜í†  í”¼ë“œë°±)
- **ëŒ€ìƒ**: TIKETI í”„ë¡œì íŠ¸ ì „ì²´ (ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ, ì¸í”„ë¼, CI/CD, ë³´ì•ˆ)

### í”¼ë“œë°± ë°›ì€ ë‚ ì§œ/ë°©ì‹

- **ì¼ì**: 2026ë…„ 2ì›” ì´ˆ
- **ë°©ì‹**: ì½”ë“œ ë¦¬ë·° (GitHub PR), ì•„í‚¤í…ì²˜ ê°ì‚¬ ë³´ê³ ì„œ, 1:1 ë©˜í† ë§

### í”¼ë“œë°± ë‚´ìš© ìš”ì•½

#### í”¼ë“œë°± 1: ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ ì „ë©´ ì¬ì„¤ê³„ í•„ìš”

> "Node.js 4ê°œ ì„œë¹„ìŠ¤ë¡œëŠ” ë™ì‹œ ì ‘ì† ìˆ˜ë§Œ ëª… ê·œëª¨ì˜ í‹°ì¼“íŒ…ì„ ê°ë‹¹í•˜ê¸° ì–´ë µë‹¤. Spring Boot(Java 21) ê¸°ë°˜ìœ¼ë¡œ ì „í™˜í•˜ê³  ë„ë©”ì¸ë³„ ì„œë¹„ìŠ¤ë¥¼ ë” ì„¸ë¶„í™”í•´ì•¼ í•œë‹¤. í˜„ì¬ Express Gatewayì˜ 248ì¤„ ëª¨ë†€ë¦¬ì‹ server.jsì— ë¼ìš°íŒ…, ì¸ì¦, WebSocket, ë©”íŠ¸ë¦­ì´ í˜¼ì¬ë˜ì–´ ìˆì–´ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ê°€ ì•ˆ ëœë‹¤."

- 4ê°œ ì„œë¹„ìŠ¤ â†’ 8ê°œë¡œ ë¶„ë¦¬ (catalog, community, queue ì‹ ê·œ ì¶”ê°€ í•„ìš”)
- Spring Cloud Gatewayë¡œ ì „ìš© API Gateway êµ¬ì¶•
- Kafka ê¸°ë°˜ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ ë„ì…

#### í”¼ë“œë°± 2: ë³´ì•ˆ ì²´ê³„ ê·¼ë³¸ì  ë³´ê°• í•„ìš”

> "JWTë¥¼ ê° ì„œë¹„ìŠ¤ì—ì„œ ê°œë³„ ê²€ì¦í•˜ë©´ ì‹œí¬ë¦¿ ìœ ì¶œ ë²”ìœ„ê°€ ë„“ì–´ì§„ë‹¤. Gatewayì—ì„œ ì¤‘ì•™ ê²€ì¦í•˜ê³  X-User-* í—¤ë”ë¡œ ì „íŒŒí•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ë°”ê¿”ì•¼ í•œë‹¤. Refresh Token ë¡œí…Œì´ì…˜ë„ ì—†ê³ , Rate Limitingë„ ì—†ì–´ ë³´ì•ˆ ê´€ì ì—ì„œ í”„ë¡œë•ì…˜ì— ì˜¬ë¦¬ê¸° ì–´ë µë‹¤."

- Gateway ì¤‘ì•™ JWT ê²€ì¦ + X-User-* í—¤ë” ìŠ¤í‘¸í•‘ ë°©ì§€
- Refresh Token ë¡œí…Œì´ì…˜ + íƒˆì·¨ íƒì§€
- Redis Lua ê¸°ë°˜ ê²½ë¡œë³„ Rate Limiting
- VWR(Virtual Waiting Room) 2-Tier ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ
- ì„œë¹„ìŠ¤ ê°„ ë‚´ë¶€ í† í° timing-safe ë¹„êµ

#### í”¼ë“œë°± 3: í…ŒìŠ¤íŠ¸ ì—†ì´ëŠ” CI/CDê°€ ë¬´ì˜ë¯¸

> "ë°±ì—”ë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ 0ê°œì¸ ìƒíƒœì—ì„œ CI/CD íŒŒì´í”„ë¼ì¸ì€ ë¹Œë“œë§Œ í™•ì¸í•  ë¿ í’ˆì§ˆ ê²Œì´íŠ¸ ì—­í• ì„ ëª» í•œë‹¤. í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³ , í†µí•© í…ŒìŠ¤íŠ¸ì™€ ë¶„ë¦¬í•´ì•¼ í•œë‹¤."

- ê° ì„œë¹„ìŠ¤ í•µì‹¬ ë¡œì§ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- `@Tag("integration")`ìœ¼ë¡œ ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ ë¶„ë¦¬
- k6 ê¸°ë°˜ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë„ì…

#### í”¼ë“œë°± 4: ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•´ì•¼ í•œë‹¤

> "AWS ì¸í”„ë¼ê°€ ì½”ë“œë¡œ ê´€ë¦¬ë˜ì§€ ì•Šìœ¼ë©´ í™˜ê²½ ì¬í˜„ì´ ë¶ˆê°€ëŠ¥í•˜ê³ , ì¥ì•  ì‹œ ë³µêµ¬ê°€ ì–´ë µë‹¤. Terraformìœ¼ë¡œ VPC, EKS, RDS ë“±ì„ ëª¨ë“ˆí™”í•˜ê³ , K8s ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë„ Kustomize overlayë¡œ í™˜ê²½ë³„ ë¶„ë¦¬í•´ì•¼ í•œë‹¤."

- Terraform ëª¨ë“ˆí™” (VPC, EKS, RDS, ElastiCache, MSK ë“±)
- Kustomize base/overlay (Kind, Dev, Staging, Prod)
- NetworkPolicy default-deny + whitelist
- Argo Rollouts Blue-Green ë°°í¬

#### í”¼ë“œë°± 5: CI/CD ì›Œí¬í”Œë¡œìš° ì¤‘ë³µ ì œê±°

> "5ê°œ ì›Œí¬í”Œë¡œìš°ì— 250ì¤„ ì´ìƒ ì¤‘ë³µ ì½”ë“œê°€ ìˆë‹¤. ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì›Œí¬í”Œë¡œìš° í…œí”Œë¦¿ìœ¼ë¡œ í†µí•©í•˜ê³ , PR ì‹œ ë³€ê²½ëœ ì„œë¹„ìŠ¤ë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë§¤íŠ¸ë¦­ìŠ¤ ì „ëµì„ ë„ì…í•´ì•¼ í•œë‹¤."

- `reusable-spring-ci-cd.yml` ì¬ì‚¬ìš© í…œí”Œë¦¿
- `pr-validation.yml` path-based ë§¤íŠ¸ë¦­ìŠ¤
- ë¡¤ë°± ì›Œí¬í”Œë¡œìš°, ë³´ì•ˆ ìŠ¤ìº”(Trivy), Discord ì•Œë¦¼

#### í”¼ë“œë°± 6: í”„ë¡ íŠ¸ì—”ë“œ í˜„ëŒ€í™”

> "React CRA + JavaScript ì¡°í•©ì€ SSR ë¶ˆê°€, íƒ€ì… ì•ˆì „ì„± ë¶€ì¬, ë¹Œë“œ ìµœì í™” í•œê³„ê°€ ìˆë‹¤. Next.js + TypeScript + Tailwind CSSë¡œ ì „í™˜í•˜ë©´ SEO, ì„±ëŠ¥, ê°œë°œ ìƒì‚°ì„±ì´ í¬ê²Œ ê°œì„ ëœë‹¤."

- Next.js App Router + TypeScript
- Tailwind CSS v4
- TanStack Query v5 ì„œë²„ ìƒíƒœ ê´€ë¦¬

---

## 3. ê°œì„  í›„ ì‘ì—…ë¬¼

### ê°œì„ ëœ ê²°ê³¼ë¬¼ ì´ë¯¸ì§€/ë‚´ìš©

> ğŸ“¸ `URR/` í”„ë¡œì íŠ¸ êµ¬ì¡° ìŠ¤í¬ë¦°ìƒ· ì²¨ë¶€ ìœ„ì¹˜

**ê°œì„ ëœ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°:**
```
URR/
â”œâ”€â”€ apps/web/                     â† Next.js 16 + TypeScript + Tailwind CSS v4
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ app/                  â† App Router (SSR/SSG)
â”‚       â”œâ”€â”€ components/           â† ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚       â””â”€â”€ hooks/                â† ì»¤ìŠ¤í…€ í›… (use-countdown, use-queue-polling ë“±)
â”œâ”€â”€ services-spring/              â† Spring Boot 3.5.0 + Java 21 (8ê°œ MSA)
â”‚   â”œâ”€â”€ auth-service/             â† JWT + Google OAuth + Refresh Token ë¡œí…Œì´ì…˜
â”‚   â”œâ”€â”€ gateway-service/          â† Spring Cloud Gateway (Rate Limit, VWR, JWT í•„í„°)
â”‚   â”œâ”€â”€ ticket-service/           â† ì˜ˆë§¤, ì¢Œì„, ì–‘ë„, ë©¤ë²„ì‹­
â”‚   â”œâ”€â”€ payment-service/          â† ê²°ì œ (Toss ì—°ë™), Kafka Producer
â”‚   â”œâ”€â”€ stats-service/            â† í†µê³„, Kafka Consumer
â”‚   â”œâ”€â”€ queue-service/            â† VWR ëŒ€ê¸°ì—´, Redis ZSET, SQS
â”‚   â”œâ”€â”€ catalog-service/          â† ì´ë²¤íŠ¸/ì•„í‹°ìŠ¤íŠ¸ ì¹´íƒˆë¡œê·¸, S3       â˜… ì‹ ê·œ
â”‚   â”œâ”€â”€ community-service/        â† ì»¤ë®¤ë‹ˆí‹°, ë‰´ìŠ¤, ëŒ“ê¸€              â˜… ì‹ ê·œ
â”‚   â””â”€â”€ urr-common/               â† ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ (7ê°œ ì»´í¬ë„ŒíŠ¸)     â˜… ì‹ ê·œ
â”œâ”€â”€ terraform/                    â† IaC 20ê°œ ëª¨ë“ˆ                     â˜… ì‹ ê·œ
â”‚   â”œâ”€â”€ modules/ (20ê°œ)           â† VPC, EKS, RDS, MSK, CloudFront, WAF...
â”‚   â””â”€â”€ environments/             â† staging/, prod/
â”œâ”€â”€ k8s/spring/                   â† Kustomize base/overlay
â”‚   â”œâ”€â”€ base/                     â† ê³µí†µ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ + NetworkPolicy
â”‚   â””â”€â”€ overlays/                 â† kind/, dev/, staging/, prod/
â”œâ”€â”€ k8s/argo-rollouts/            â† Blue-Green ë°°í¬                   â˜… ì‹ ê·œ
â”œâ”€â”€ .github/workflows/            â† CI/CD 14ê°œ (ì¬ì‚¬ìš© í…œí”Œë¦¿ ê¸°ë°˜)
â”‚   â”œâ”€â”€ reusable-spring-ci-cd.yml â† ì¬ì‚¬ìš© í…œí”Œë¦¿ (8ê°œ ì„œë¹„ìŠ¤ ê³µìœ )   â˜… ì‹ ê·œ
â”‚   â”œâ”€â”€ pr-validation.yml         â† ë³€ê²½ ì„œë¹„ìŠ¤ë§Œ ìë™ í…ŒìŠ¤íŠ¸          â˜… ì‹ ê·œ
â”‚   â””â”€â”€ rollback.yml              â† ë¡¤ë°± ì›Œí¬í”Œë¡œìš°                    â˜… ì‹ ê·œ
â”œâ”€â”€ tests/                        â† ë¶€í•˜/ì¹´ì˜¤ìŠ¤ í…ŒìŠ¤íŠ¸ (k6)            â˜… ì‹ ê·œ
â””â”€â”€ docs/analyze/                 â† ë¶„ì„ ë¬¸ì„œ 16ê°œ                     â˜… ì‹ ê·œ
```

**ê°œì„ ëœ ì•„í‚¤í…ì²˜:**
```
ì‚¬ìš©ì â†’ CloudFront (WAF + Lambda@Edge)
           â†’ AWS ALB
             â†’ Spring Cloud Gateway MVC
                [RateLimitFilter â†’ VwrEntryTokenFilter â†’ CookieAuthFilter â†’ JwtAuthFilter]
                  â”œâ”€â”€ auth-service        (JWT, OAuth, Refresh Token ë¡œí…Œì´ì…˜)
                  â”œâ”€â”€ ticket-service      (ì˜ˆë§¤, ì¢Œì„, ì–‘ë„, ë©¤ë²„ì‹­)
                  â”œâ”€â”€ payment-service     (ê²°ì œ, Kafka Producer)
                  â”œâ”€â”€ stats-service       (í†µê³„, Kafka Consumer)
                  â”œâ”€â”€ queue-service       (VWR ëŒ€ê¸°ì—´, Redis + SQS)
                  â”œâ”€â”€ catalog-service     (ì¹´íƒˆë¡œê·¸, S3 ì´ë¯¸ì§€)     â˜… ì‹ ê·œ
                  â”œâ”€â”€ community-service   (ì»¤ë®¤ë‹ˆí‹°, ë‰´ìŠ¤)          â˜… ì‹ ê·œ
                  â””â”€â”€ urr-common          (ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬)          â˜… ì‹ ê·œ
```

**ìˆ˜ì¹˜ ë¹„êµ:**

| í•­ëª© | TIKETI (ê°œì„  ì „) | URR (ê°œì„  í›„) |
|------|-----------------|--------------|
| ë°±ì—”ë“œ ì–¸ì–´ | Node.js (JavaScript) | Java 21 (Spring Boot 3.5.0) |
| ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ìˆ˜ | 4ê°œ | **8ê°œ** |
| ë°±ì—”ë“œ ì†ŒìŠ¤ íŒŒì¼ | JS 40ê°œ | **Java 193ê°œ** |
| ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | 0ê°œ | **19ê°œ** |
| CI/CD ì›Œí¬í”Œë¡œìš° | 5ê°œ (ì¤‘ë³µ) | **14ê°œ** (ì¬ì‚¬ìš© ê¸°ë°˜) |
| Terraform ëª¨ë“ˆ | 0ê°œ | **20ê°œ** |
| K8s í™˜ê²½ | 1ê°œ (Kind) | **4ê°œ** (Kind/Dev/Staging/Prod) |
| í”„ë¡ íŠ¸ì—”ë“œ | React CRA (JS) | **Next.js 16 (TypeScript)** |
| Rate Limiting | ì—†ìŒ | **4ë‹¨ê³„ ê²½ë¡œë³„** |
| ëŒ€ê¸°ì—´(VWR) | ì—†ìŒ | **2-Tier (100ë§Œ+ ë™ì‹œ)** |
| NetworkPolicy | ì—†ìŒ | **default-deny + whitelist** |
| ë°°í¬ ì „ëµ | kubectl apply | **Argo Rollouts Blue-Green** |

### ê°œì„  ê³¼ì • ë‹¨ê³„ë³„ ì„¤ëª…

#### ë‹¨ê³„ 1: ë°±ì—”ë“œ ê¸°ìˆ  ì „í™˜ (Node.js â†’ Spring Boot)

**ë¬¸ì œ:**
TIKETIì˜ Express GatewayëŠ” `server.js` 248ì¤„ì— ë¼ìš°íŒ…, ì¸ì¦, WebSocket, ë©”íŠ¸ë¦­ì´ í˜¼ì¬ë˜ì–´ ìˆì—ˆê³ , 4ê°œ Node.js ì„œë¹„ìŠ¤ëŠ” ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ê°€ 4ê³³ì— ë³µì‚¬-ë¶™ì—¬ë„£ê¸°ë˜ì–´ ìˆì—ˆë‹¤.

**í•´ê²°:**
- Node.js â†’ **Java 21 + Spring Boot 3.5.0** ì „í™˜
- 4ê°œ ì„œë¹„ìŠ¤ â†’ **8ê°œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤** (catalog, community, queue ì‹ ê·œ)
- `packages/` npm ì›Œí¬ìŠ¤í˜ì´ìŠ¤ â†’ **`urr-common/` Gradle Composite Build**
- ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ì¸ì¦ ì½”ë“œ â†’ **urr-commonì˜ `JwtTokenParser`** 1ê³³ìœ¼ë¡œ í†µí•©
- Socket.IO â†’ **Kafka 4ê°œ í† í”½** (payment-events, reservation-events, transfer-events, membership-events)
- ë‹¨ì¼ DB ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬ â†’ **ì„œë¹„ìŠ¤ë³„ ë…ë¦½ PostgreSQL ì¸ìŠ¤í„´ìŠ¤**

**urr-common ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì„± (6ê°œ ì„œë¹„ìŠ¤ê°€ ê³µìœ ):**

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  |
|----------|------|
| `JwtTokenParser` | X-User-* í—¤ë”ì—ì„œ ì¸ì¦ ì •ë³´ ì¶”ì¶œ (JWT ì‹œí¬ë¦¿ ë¶ˆí•„ìš”) |
| `GlobalExceptionHandler` | ì „ ì„œë¹„ìŠ¤ ê³µí†µ ì˜ˆì™¸ ì²˜ë¦¬ |
| `InternalTokenValidatorAutoConfiguration` | ì„œë¹„ìŠ¤ ê°„ ë‚´ë¶€ í† í° ê²€ì¦ (ì¡°ê±´ë¶€ ë¹ˆ) |
| `DataSourceRoutingConfig` | Primary/Replica ì½ê¸°-ì“°ê¸° ë¶„ë¦¬ |
| `ReadWriteRoutingDataSource` | íŠ¸ëœì­ì…˜ readOnly í”Œë˜ê·¸ ê¸°ë°˜ DB ë¼ìš°íŒ… |
| `AuthUser` | ì¸ì¦ ì‚¬ìš©ì ì •ë³´ record |
| `PreSaleSchedule` | ë©¤ë²„ì‹­ í‹°ì–´ë³„ ì„ ì˜ˆë§¤ ì¼ì • ê³„ì‚° |

#### ë‹¨ê³„ 2: ë³´ì•ˆ ì²´ê³„ ê°•í™”

**ë¬¸ì œ:**
TIKETIì—ì„œëŠ” JWTë¥¼ ê° ì„œë¹„ìŠ¤ê°€ ê°œë³„ ê²€ì¦(ë§¤ë²ˆ DB ì¡°íšŒ)í•˜ê³ , JWT_SECRET ê¸°ë³¸ê°’ì´ 3ê³³ì— í•˜ë“œì½”ë”©ë˜ì–´ ìˆì—ˆìœ¼ë©°, Rate Limiting, VWR, í—¤ë” ìŠ¤í‘¸í•‘ ë°©ì§€ê°€ ì „í˜€ ì—†ì—ˆë‹¤.

**í•´ê²°:**

| ë³´ì•ˆ ê¸°ëŠ¥ | TIKETI (ë¬¸ì œ) | URR (í•´ê²°) |
|-----------|--------------|-----------|
| JWT ê²€ì¦ | ê° ì„œë¹„ìŠ¤ì—ì„œ ê°œë³„ ê²€ì¦ + ë§¤ë²ˆ DB ì¡°íšŒ | **Gateway ì¤‘ì•™ ê²€ì¦** â†’ X-User-* í—¤ë” ì „íŒŒ |
| JWT ì‹œí¬ë¦¿ | 3ê³³ì— í•˜ë“œì½”ë”© ê¸°ë³¸ê°’ ë…¸ì¶œ | Gatewayë§Œ ì‹œí¬ë¦¿ ë³´ìœ , ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ ë¶ˆí•„ìš” |
| Refresh Token | ë¡œí…Œì´ì…˜ ì—†ìŒ (íƒˆì·¨ ì‹œ ë¬´ì œí•œ ì‚¬ìš©) | **Family-based reuse detection** + í† í° ë¡œí…Œì´ì…˜ |
| Rate Limiting | ì—†ìŒ | Redis Lua ê¸°ë°˜ 4ë‹¨ê³„ (AUTH 60, BOOKING 30, QUEUE 120, GENERAL 3000 rpm) |
| ëŒ€ê¸°ì—´ | ì—†ìŒ (ì„œë²„ ì§ì ‘ ë„ë‹¬) | **2-Tier VWR**: Lambda/DynamoDB(100ë§Œ+) â†’ Redis ZSET(10ë§Œ) |
| í—¤ë” ìŠ¤í‘¸í•‘ | ë°©ì§€ ì—†ìŒ | JwtAuthFilterì—ì„œ **X-User-* í—¤ë” strip í›„ ê²€ì¦ëœ ê°’ë§Œ ì£¼ì…** |
| ë‚´ë¶€ API í† í° | `===` ì¼ë°˜ ë¹„êµ | **`MessageDigest.isEqual()` timing-safe** ë¹„êµ |
| ì¿ í‚¤ | ê¸°ë³¸ ì„¤ì • | **HttpOnly, Secure, SameSite=Lax**, Refresh Token Path ë¶„ë¦¬(`/api/auth`) |
| ë„¤íŠ¸ì›Œí¬ | Pod ê°„ ë¬´ì œí•œ í†µì‹  | K8s **NetworkPolicy default-deny** + ì„œë¹„ìŠ¤ë³„ whitelist |
| WAF | ì—†ìŒ | **AWS WAFv2** (4 ê·œì¹™) + CloudFront |

#### ë‹¨ê³„ 3: í…ŒìŠ¤íŠ¸ ì²´ê³„ êµ¬ì¶•

**ë¬¸ì œ:**
TIKETIëŠ” ë°±ì—”ë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ 0ê°œì˜€ë‹¤. CI/CDê°€ ë¹Œë“œ ì„±ê³µë§Œ í™•ì¸í•  ë¿ í’ˆì§ˆ ê²Œì´íŠ¸ ì—­í• ì„ í•˜ì§€ ëª»í–ˆë‹¤.

**í•´ê²°:**

| í…ŒìŠ¤íŠ¸ ìœ í˜• | TIKETI | URR |
|------------|--------|-----|
| ë°±ì—”ë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | **0ê°œ** | **19ê°œ** (JUnit 5 + Mockito) |
| í†µí•© í…ŒìŠ¤íŠ¸ | ì—†ìŒ | `@Tag("integration")` ë¶„ë¦¬ |
| í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ | CRA ê¸°ë³¸ íŒŒì¼ë§Œ | **Vitest + Testing Library + Playwright E2E** |
| ë¶€í•˜ í…ŒìŠ¤íŠ¸ | ì—†ìŒ | **k6** (browse, booking, queue-rush, mixed 4ê°œ ì‹œë‚˜ë¦¬ì˜¤) |
| ì¹´ì˜¤ìŠ¤ í…ŒìŠ¤íŠ¸ | ì—†ìŒ | **k6** (service-failure, network-latency, redis-failure) |

**ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ëª©ë¡ (19ê°œ):**
- auth-service: `AuthServiceTest`, `AuthIntegrationTest`
- catalog-service: `AdminServiceTest`, `AdminDashboardServiceTest`, `ArtistServiceTest`, `EventReadServiceTest`
- community-service: `NewsServiceTest`
- gateway-service: `RateLimitFilterTest`, `VwrEntryTokenFilterTest`
- payment-service: `PaymentServiceTest`
- queue-service: `QueueServiceTest`, `SqsPublisherTest`
- stats-service: `StatsQueryServiceTest`, `StatsWriteServiceTest`
- ticket-service: `ReservationServiceTest`, `ReservationPaymentHandlerTest`, `MembershipServiceTest`, `TransferServiceTest`, `ReservationIntegrationTest`

#### ë‹¨ê³„ 4: ì¸í”„ë¼ í˜„ëŒ€í™”

**ë¬¸ì œ:**
TIKETIëŠ” Terraformì´ ì—†ì–´ ì¸í”„ë¼ë¥¼ ìˆ˜ë™ ê´€ë¦¬í–ˆê³ , K8s ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” `00-namespace.yaml` ~ `14-stats-service.yaml`ë¡œ í™˜ê²½ë³„ ë¶„ë¦¬ ì—†ì´ flatí•˜ê²Œ ê´€ë¦¬ë˜ì—ˆë‹¤.

**í•´ê²°:**

| í•­ëª© | TIKETI | URR |
|------|--------|-----|
| IaC | ì—†ìŒ | **Terraform 20ê°œ ëª¨ë“ˆ** (VPC, EKS, RDS, ElastiCache, MSK, CloudFront, WAF, Route53, ECR ë“±) |
| K8s ë§¤ë‹ˆí˜ìŠ¤íŠ¸ | ë²ˆí˜¸ ê¸°ë°˜ flat 15ê°œ | **Kustomize base/overlay** (kind, dev, staging, prod) |
| í™˜ê²½ ë¶„ë¦¬ | Kind ë¡œì»¬ë§Œ | **Kind / Dev / Staging / Prod** (4ë‹¨ê³„) |
| ë°°í¬ ì „ëµ | `kubectl apply` | **Argo Rollouts Blue-Green** (gateway, ticket, payment, queue) |
| ë…¸ë“œ ìŠ¤ì¼€ì¼ë§ | ì—†ìŒ | **Karpenter** (30ì´ˆ ë‚´ ë…¸ë“œ í”„ë¡œë¹„ì €ë‹) |
| Pod ìŠ¤ì¼€ì¼ë§ | ì—†ìŒ | **HPA** (CPU 70%) + PDB |
| DB | ë‹¨ì¼ PostgreSQL | **RDS Multi-AZ + Read Replica** + DataSource ë¼ìš°íŒ… |
| ìºì‹œ | DragonflyDB ë¡œì»¬ | **ElastiCache Redis 7.1** (Primary + Replica, Auth Token) |
| ë©”ì‹œì§€ ë¸Œë¡œì»¤ | Redis Pub/Sub | **MSK (Kafka 3.6.0)** TLS + IAM ì¸ì¦ |
| CDN | ì—†ìŒ | **CloudFront** (5ê°œ ìºì‹œ ë™ì‘ + Lambda@Edge) |

#### ë‹¨ê³„ 5: CI/CD ê³ ë„í™”

**ë¬¸ì œ:**
TIKETIì˜ 5ê°œ CI/CD ì›Œí¬í”Œë¡œìš°ëŠ” ê° 250ì¤„ ì´ìƒìœ¼ë¡œ ì¤‘ë³µì´ ì‹¬í–ˆê³ , PR ê²€ì¦, ë¡¤ë°±, ë³´ì•ˆ ìŠ¤ìº”ì´ ì—†ì—ˆë‹¤.

**í•´ê²°:**

| í•­ëª© | TIKETI | URR |
|------|--------|-----|
| ì›Œí¬í”Œë¡œìš° ìˆ˜ | 5ê°œ (ê°œë³„ ì‘ì„±) | **14ê°œ** (ì¬ì‚¬ìš© í…œí”Œë¦¿ ê¸°ë°˜) |
| ì¬ì‚¬ìš© í…œí”Œë¦¿ | ì—†ìŒ | **`reusable-spring-ci-cd.yml`** (1ê°œë¡œ 8ê°œ ì„œë¹„ìŠ¤ ì»¤ë²„) |
| PR ê²€ì¦ | ì—†ìŒ | **`pr-validation.yml`** (ë³€ê²½ ì„œë¹„ìŠ¤ë§Œ path-based ë§¤íŠ¸ë¦­ìŠ¤ í…ŒìŠ¤íŠ¸) |
| ë³´ì•ˆ ìŠ¤ìº” | ì—†ìŒ | **Trivy** (CRITICAL/HIGH ì°¨ë‹¨) |
| ì¸ì¦ | AWS ì¥ê¸° ìê²©ì¦ëª… | **GitHub OIDC â†’ AWS IAM** (ì¥ê¸° í‚¤ ë¶ˆí•„ìš”) |
| ë¡¤ë°± | ì—†ìŒ | **`rollback.yml`** |
| ì•Œë¦¼ | ì—†ìŒ | **Discord webhook** |

#### ë‹¨ê³„ 6: í”„ë¡ íŠ¸ì—”ë“œ í˜„ëŒ€í™”

**ë¬¸ì œ:**
TIKETIëŠ” React CRA + JavaScript ê¸°ë°˜ SPAë¡œ SSR ë¶ˆê°€, íƒ€ì… ì•ˆì „ì„± ë¶€ì¬, í˜ì´ì§€ë³„ CSS íŒŒì¼(Home.css, EventDetail.css ë“±) ì¶©ëŒ ìœ„í—˜ì´ ìˆì—ˆë‹¤.

**í•´ê²°:**

| í•­ëª© | TIKETI | URR |
|------|--------|-----|
| í”„ë ˆì„ì›Œí¬ | React 18.2 (CRA) | **Next.js 16.1.6** (App Router) |
| ì–¸ì–´ | JavaScript | **TypeScript 5.9.3** |
| ìŠ¤íƒ€ì¼ë§ | í˜ì´ì§€ë³„ CSS (Home.css ë“±) | **Tailwind CSS v4** |
| ì„œë²„ ìƒíƒœ | ì§ì ‘ fetch | **TanStack Query v5** |
| ê²°ì œ | Toss Payments SDK | **Toss Payments SDK** (ìœ ì§€) |
| í…ŒìŠ¤íŠ¸ | ì—†ìŒ | **Vitest + Playwright** |
| SEO | ë¶ˆê°€ (SPA) | **SSR/SSG ì§€ì›** |

---

## 4. ì„±ì¥ í›„ê¸°

### ë°°ìš´ ì 

**1) "ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬"ê°€ ì§„ì§œ DRYë¥¼ ë§Œë“ ë‹¤**

TIKETIì—ì„œ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´(`auth.js`)ê°€ 4ê³³ì— ë³µì‚¬-ë¶™ì—¬ë„£ê¸°ë˜ì–´ ìˆì—ˆë‹¤. í•˜ë‚˜ë¥¼ ìˆ˜ì •í•˜ë©´ ë‚˜ë¨¸ì§€ 3ê³³ë„ ë˜‘ê°™ì´ ìˆ˜ì •í•´ì•¼ í–ˆê³ , ì‹¤ìˆ˜ë¡œ ëˆ„ë½í•˜ë©´ ì„œë¹„ìŠ¤ ê°„ ì¸ì¦ ë™ì‘ì´ ë‹¬ë¼ì§€ëŠ” ìœ„í—˜ì´ ìˆì—ˆë‹¤. URRì—ì„œ `urr-common`ì´ë¼ëŠ” ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ `JwtTokenParser`, `GlobalExceptionHandler`, `InternalTokenValidator` ë“±ì„ í•œ ê³³ì— ëª¨ì•˜ë‹¤. ì´ì œ í•œ ê³³ì„ ìˆ˜ì •í•˜ë©´ 6ê°œ ì„œë¹„ìŠ¤ì— ìë™ ë°˜ì˜ëœë‹¤. ì§„ì •í•œ "One Source of Truth"ê°€ ë¬´ì—‡ì¸ì§€ ì²´ê°í–ˆë‹¤.

**2) ë³´ì•ˆì€ "ê³„ì¸µ"ìœ¼ë¡œ ìŒ“ëŠ” ê²ƒì´ë‹¤**

TIKETIì—ì„œ ê° ì„œë¹„ìŠ¤ê°€ JWTë¥¼ ê°œë³„ ê²€ì¦í•˜ë©´ì„œ JWT ì‹œí¬ë¦¿ì´ 4ê³³ì— ë¶„ì‚°ë˜ì–´ ìˆì—ˆë‹¤. URRì—ì„œëŠ” Gateway í•œ ê³³ì—ì„œë§Œ JWTë¥¼ ê²€ì¦í•˜ê³  X-User-* í—¤ë”ë¡œ ì „íŒŒí•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ë°”ê¿¨ë‹¤. ì—¬ê¸°ì— Rate Limiting â†’ VWR ëŒ€ê¸°ì—´ â†’ Entry Token â†’ ì¢Œì„ ì ê¸ˆ(Redis Lua + DB FOR UPDATE + Fencing Token)ê¹Œì§€ ê³„ì¸µì  ë³´ì•ˆì„ ì ìš©í•˜ë©´ì„œ, "í•˜ë‚˜ê°€ ëš«ë ¤ë„ ë‹¤ìŒ ê³„ì¸µì´ ë§‰ëŠ”" ë°©ì–´ ì‹¬ì¸µ(Defense in Depth) ì›ì¹™ì„ ì‹¤ì œë¡œ êµ¬í˜„í•´ë´¤ë‹¤.

**3) í…ŒìŠ¤íŠ¸ ì—†ëŠ” CI/CDëŠ” ë¹Œë“œ í™•ì¸ê¸°ì— ë¶ˆê³¼í•˜ë‹¤**

TIKETIì—ì„œ CI/CD íŒŒì´í”„ë¼ì¸ì´ ë¹Œë“œ ì„±ê³µë§Œ í™•ì¸í–ˆë‹¤. URRì—ì„œ 19ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³  PR ê²€ì¦ ì›Œí¬í”Œë¡œìš°ë¥¼ ë§Œë“¤ë©´ì„œ, CIê°€ ì‹¤ì œë¡œ "ì´ ì½”ë“œë¥¼ ë¨¸ì§€í•´ë„ ë˜ëŠ”ê°€?"ë¥¼ íŒë‹¨í•˜ëŠ” í’ˆì§ˆ ê²Œì´íŠ¸ê°€ ë˜ì—ˆë‹¤. `@Tag("integration")` ë¶„ë¦¬ë¡œ ì¸í”„ë¼ ì˜ì¡´ í…ŒìŠ¤íŠ¸ê°€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ë°©í•´í•˜ì§€ ì•Šë„ë¡ í•œ ê²ƒë„ ì¤‘ìš”í•œ ë°°ì›€ì´ì—ˆë‹¤.

**4) Infrastructure as CodeëŠ” "ì¬í˜„ ê°€ëŠ¥ì„±"ì´ë‹¤**

TIKETIì—ì„œ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ì½˜ì†”ë¡œ ê´€ë¦¬í•˜ë©´ "ì§€ê¸ˆ í”„ë¡œë•ì…˜ì— ë­ê°€ ìˆëŠ”ì§€" ì •í™•íˆ ì•„ëŠ” ì‚¬ëŒì´ ì—†ì—ˆë‹¤. Terraform 20ê°œ ëª¨ë“ˆë¡œ ì½”ë“œí™”í•˜ë©´ì„œ `terraform plan`ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì„ ì‚¬ì „ ê²€í† í•˜ê³ , Stagingê³¼ Prod í™˜ê²½ ì°¨ì´ë¥¼ ë³€ìˆ˜ í•˜ë‚˜(`environment = "staging"`)ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

**5) Spring Boot ìƒíƒœê³„ì˜ ê¹Šì´**

ë‹¨ìˆœí•œ ì–¸ì–´ ì „í™˜ì´ ì•„ë‹ˆì—ˆë‹¤. DI ì»¨í…Œì´ë„ˆ, `@ConditionalOnProperty` ì¡°ê±´ë¶€ ë¹ˆ, `@Transactional(readOnly = true)` ê¸°ë°˜ Read Replica ë¼ìš°íŒ…, Resilience4j Circuit Breaker, Spring Cloud Gateway í•„í„° ì²´ì¸ ë“± ì—”í„°í”„ë¼ì´ì¦ˆ ìƒíƒœê³„ ì „ì²´ë¥¼ í™œìš©í•˜ëŠ” ë²•ì„ ë°°ì› ë‹¤.

### ì–´ë ¤ì› ë˜ ì 

**1) Mockito varargs ë§¤ì¹­ì˜ í•¨ì •**

`JdbcTemplate.queryForList(String, Object...)`ì²˜ëŸ¼ ê°€ë³€ ì¸ì(varargs)ë¥¼ ë°›ëŠ” ë©”ì„œë“œë¥¼ Mockitoë¡œ ëª¨í‚¹í•  ë•Œ, `when().thenReturn()`ê³¼ `any()` ë§¤ì²˜ ì¡°í•©ì´ ì‘ë™í•˜ì§€ ì•Šì•˜ë‹¤. `doReturn().when()` íŒ¨í„´ê³¼ ì •í™•í•œ `eq()` ê°’ ë§¤ì¹­ìœ¼ë¡œ í•´ê²°í–ˆëŠ”ë°, ì´ ë¬¸ì œë¡œ í•˜ë£¨ë¥¼ ì†Œë¹„í–ˆë‹¤.

**2) Gradle Composite Build + scanBasePackages ëˆ„ë½ ë²„ê·¸**

`urr-common`ì„ Gradle Composite Buildë¡œ ì—°ê²°í•œ í›„, `payment-service`ì˜ `@SpringBootApplication`ì— `scanBasePackages`ë¥¼ ë¹ ëœ¨ë ¤ urr-commonì˜ ë¹ˆì„ ì°¾ì§€ ëª»í•˜ëŠ” Critical ë²„ê·¸ê°€ ë°œìƒí–ˆë‹¤. ë¹Œë“œëŠ” ì„±ê³µí•˜ì§€ë§Œ ëŸ°íƒ€ì„ì— `NoSuchBeanDefinitionException`ì´ ë°œìƒí•˜ëŠ” ìœ í˜•ì´ë¼ ë””ë²„ê¹…ì´ ì–´ë ¤ì› ë‹¤.

**3) CI í™˜ê²½ì—ì„œì˜ í†µí•© í…ŒìŠ¤íŠ¸ ë¶„ë¦¬**

`@SpringBootTest` ì»¨í…ìŠ¤íŠ¸ ë¡œë”© í…ŒìŠ¤íŠ¸ê°€ Redis/Kafka ì—†ëŠ” CI í™˜ê²½ì—ì„œ ì‹¤íŒ¨í–ˆë‹¤. `@Tag("integration")`ìœ¼ë¡œ ë¶„ë¦¬í•˜ê³  `build.gradle`ì— `excludeTags 'integration'`ì„ ì„¤ì •í•´ì„œ í•´ê²°í–ˆëŠ”ë°, ê° ì„œë¹„ìŠ¤ë§ˆë‹¤ ì´ ì„¤ì •ì„ í™•ì¸í•˜ê³  ì ìš©í•˜ëŠ” ê³¼ì •ì´ ë²ˆê±°ë¡œì› ë‹¤.


### ì•ìœ¼ë¡œ ì ìš©í•  ì 

**1) ì„œë¹„ìŠ¤ ê°„ mTLS ë„ì…**

í˜„ì¬ `INTERNAL_API_TOKEN` + NetworkPolicyë¡œ ì„œë¹„ìŠ¤ ê°„ í†µì‹ ì„ ë³´í˜¸í•˜ê³  ìˆë‹¤. ì„œë¹„ìŠ¤ê°€ 30ê°œ ì´ìƒìœ¼ë¡œ ì„±ì¥í•˜ë©´ Istio ë˜ëŠ” Linkerdë¥¼ ë„ì…í•˜ì—¬ ìë™ mTLSë¥¼ ì ìš©í•˜ê³ , Zero-Trust ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬í˜„í•  ê³„íšì´ë‹¤.

**2) Contract Testing**

ì„œë¹„ìŠ¤ ê°„ API ê³„ì•½ì„ Pact ê¸°ë°˜ìœ¼ë¡œ ê²€ì¦í•˜ì—¬, í•œ ì„œë¹„ìŠ¤ì˜ API ë³€ê²½ì´ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¥¼ ê¹¨ëœ¨ë¦¬ì§€ ì•Šë„ë¡ ë³´ì¥í•˜ëŠ” ì²´ê³„ë¥¼ êµ¬ì¶•í•  ê²ƒì´ë‹¤.

**3) ì¹´ì˜¤ìŠ¤ ì—”ì§€ë‹ˆì–´ë§ ìë™í™”**

í˜„ì¬ k6 ê¸°ë°˜ ì¹´ì˜¤ìŠ¤ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ê°€ ì¡´ì¬í•˜ì§€ë§Œ ìˆ˜ë™ ì‹¤í–‰ì´ë‹¤. ì •ê¸°ì ìœ¼ë¡œ ìë™ ì‹¤í–‰ë˜ëŠ” ì²´ê³„ë¥¼ êµ¬ì¶•í•˜ì—¬ ì¥ì•  ë³µì›ë ¥ì„ ì§€ì†ì ìœ¼ë¡œ ê²€ì¦í•  ê²ƒì´ë‹¤.

**4) Adaptive Sampling ë¶„ì‚° íŠ¸ë ˆì´ì‹±**

í˜„ì¬ Zipkin + Micrometerë¡œ í”„ë¡œë•ì…˜ ìƒ˜í”Œë§ë¥  10%ë¥¼ ì ìš©í•˜ê³  ìˆë‹¤. ì—ëŸ¬ ë°œìƒ ì‹œ 100%ë¡œ ë™ì  ì¡°ì ˆí•˜ëŠ” adaptive samplingì„ ë„ì…í•˜ì—¬, ì¥ì•  ìƒí™©ì—ì„œ ë” ì •í™•í•œ íŠ¸ë ˆì´ìŠ¤ë¥¼ í™•ë³´í•  ê²ƒì´ë‹¤.

**5) DB ë§ˆì´ê·¸ë ˆì´ì…˜ CI ìë™í™”**

Flywayë¥¼ ì´ë¯¸ ì‚¬ìš© ì¤‘ì´ì§€ë§Œ, CIì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ë“œë¼ì´ëŸ°ì„ ìë™ ì‹¤í–‰í•˜ëŠ” íŒŒì´í”„ë¼ì¸ì„ ì¶”ê°€í•˜ì—¬, í”„ë¡œë•ì…˜ ë°°í¬ ì „ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì˜ ì•ˆì „ì„±ì„ ì‚¬ì „ ê²€ì¦í•  ê²ƒì´ë‹¤.
