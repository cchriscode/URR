 CRITICAL (즉시 수정 필요)
  ┌─────┬────────┬─────────────────────────────────────────────────────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
  │  #  │  영역  │                        파일                         │                                                                  설명                                                                  │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C1  │ 인프라 │ terraform/modules/cloudfront/main.tf:28-32          │ Lambda@Edge는 환경변수 미지원 — QUEUE_ENTRY_TOKEN_SECRET을 env block에 설정했지만 Edge에서 읽을 수 없음. CloudFront 트래픽 전체 차단됨 │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C2  │ 보안   │ k8s/spring/overlays/kind/secrets.env                │ secrets.env가 git에 커밋됨 — JWT_SECRET, DB 비밀번호 등 평문 노출. .gitignore 추가 전에 커밋된 것                                      │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C3  │ 백엔드 │ PaymentEventConsumer.java:42                        │ Kafka 이벤트 타입 판별이 duck-typing — containsKey("reason")으로 refund 판별. null 필드 직렬화 시 오판 가능                            │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C4  │ 백엔드 │ PaymentEventConsumer.java:73                        │ ReservationConfirmedEvent에 eventId=null — 이벤트별 매출 통계가 완전히 누락됨                                                          │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C5  │ 프론트 │ apps/web/src/components/auth-guard.tsx:14-16        │ 클라이언트 측 admin 체크가 localStorage 기반 — DevTools로 role 변조 가능                                                               │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C6  │ 프론트 │ apps/web/src/app/membership-payment/.../page.tsx:33 │ 결제 금액을 URL 파라미터에서 읽음 — 백엔드 검증 없으면 가격 조작 가능                                                                  │
  ├─────┼────────┼─────────────────────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ C7  │ 보안   │ apps/web/src/lib/storage.ts:8-11                    │ JWT를 localStorage에 저장 — XSS 공격 시 토큰 탈취 가능                                                                                 │
  └─────┴────────┴─────────────────────────────────────────────────────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
  ---
  HIGH (출시 전 수정 권장)
  ┌─────┬────────┬─────────────────────────────────────┬────────────────────────────────────────────────────────────────────────────────┐
  │  #  │  영역  │                파일                 │                                      설명                                      │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H1  │ 백엔드 │ PaymentEventConsumer.java:91        │ TransferCompletedEvent에 reservationId=null, sellerId=null                     │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H2  │ 백엔드 │ PaymentService.java:247             │ process 엔드포인트가 Toss 결제 검증 없이 바로 confirmed 처리                   │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H3  │ 백엔드 │ PaymentEventProducer.java:23        │ Kafka publish가 fire-and-forget — Kafka 장애 시 결제됐지만 예약 미확정         │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H4  │ 백엔드 │ RateLimitFilter.java:102            │ Redis 장애 시 rate limiting 완전 비활성화 (fail-open)                          │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H5  │ 백엔드 │ ReservationService.java:485         │ 예약 취소 시 payment_status='refunded' 설정하지만 실제 환불 미실행             │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H6  │ 백엔드 │ 없음 (누락)                         │ 만료 예약 정리 스케줄러 미구현 — config에 interval 있지만 실제 @Scheduled 없음 │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H7  │ 백엔드 │ StatsEventConsumer.java:51          │ Kafka 재전달 시 stats 이중 집계 (멱등성 없음)                                  │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H8  │ 보안   │ auth-service/application.yml:42     │ JWT 만료 7일 — 결제 시스템에 과도하게 긴 유효기간                              │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H9  │ 보안   │ auth-service/SecurityConfig.java:34 │ /internal/**가 Spring Security 완전 bypass — 개발자 실수 시 무인증 노출        │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H10 │ 보안   │ 없음                                │ JWT 토큰 폐기/블랙리스트 메커니즘 없음                                         │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H11 │ 보안   │ ImageController.java:21-25          │ /api/image/upload에 인증 없음 — 누구나 S3 업로드 가능                          │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H12 │ 보안   │ NewsController.java:49-75           │ News 생성/수정/삭제에 admin 권한 체크 없음                                     │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H13 │ 인프라 │ K8s base deployments 전체           │ SecurityContext 없음 — 컨테이너가 root로 실행, 권한 상승 가능                  │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H14 │ 인프라 │ K8s 전체                            │ NetworkPolicy 없음 — 모든 Pod 간 무제한 통신                                   │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H15 │ 인프라 │ k8s/spring/overlays/prod            │ CLOUDFRONT_SECRET이 Secret이 아닌 ConfigMap에 저장                             │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H16 │ 인프라 │ K8s prod 전체                       │ 서비스 간 통신이 전부 HTTP 평문 (mTLS 없음)                                    │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H17 │ 인프라 │ .github/workflows/*-ci-cd.yml       │ Trivy 보안 스캔이 continue-on-error: true — 취약점 있어도 배포 진행            │
  ├─────┼────────┼─────────────────────────────────────┼────────────────────────────────────────────────────────────────────────────────┤
  │ H18 │ 인프라 │ 없음                                │ HPA(Horizontal Pod Autoscaler) 없음 — 트래픽 급증 시 수동 스케일링만 가능      │
  └─────┴────────┴─────────────────────────────────────┴────────────────────────────────────────────────────────────────────────────────┘
  ---
  MEDIUM (개선 필요)
  ┌─────┬────────┬───────────────────────────────────────────────────────────────────────────────────┐
  │  #  │  영역  │                                       설명                                        │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M1  │ DB     │ reservations(user_id, event_id), reservation_items(reservation_id) 등 인덱스 누락 │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M2  │ 백엔드 │ Queue 서비스 in-memory fallback — 멀티 인스턴스에서 큐 상태 불일치                │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M3  │ 백엔드 │ ReservationItemRequest.quantity에 @Max 없음 — 정수 오버플로 가능                  │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M4  │ 백엔드 │ TransferController.createListing에서 raw Map 사용 — NPE 위험                      │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M5  │ 백엔드 │ CORS에 x-internal-token 헤더 허용 — 불필요한 공격 면                              │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M6  │ 백엔드 │ Kafka spring.json.trusted.packages: "*" — 역직렬화 공격 벡터                      │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M7  │ 백엔드 │ 모든 내부 HTTP 클라이언트에 retry/circuit breaker 없음                            │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M8  │ 보안   │ Lambda@Edge 시크릿 주입 문제 — 빌드 시 주입 또는 SSM 사용 필요                    │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M9  │ 보안   │ JwtAuthenticationFilter가 오류 무시 — 디버깅 어려움                               │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M10 │ 보안   │ Role이 JWT에 저장 — DB 변경 후에도 7일간 이전 role 유지                           │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M11 │ 보안   │ AuthGuard가 클라이언트 전용 — 서버 미들웨어 검증 없음                             │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M12 │ 보안   │ Image upload 시 content-type 미검증 — 악성 파일 업로드 가능                       │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M13 │ 보안   │ X-Forwarded-For 헤더를 무조건 신뢰 — rate limit 우회 가능                         │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M14 │ 보안   │ JWT key의 Base64 디코딩 실패 시 catch(Exception ignored) — 키 길이 검증 부재      │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M15 │ 인프라 │ Dockerfile이 root 사용자로 실행                                                   │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M16 │ 인프라 │ prod config.env에 CHANGE_ME 플레이스홀더 잔존                                     │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M17 │ 인프라 │ PDB가 4개 서비스만 적용 — stats, auth, community 누락                             │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M18 │ 프론트 │ Error boundary 없음 — 런타임 에러 시 전체 페이지 크래시                           │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M19 │ 프론트 │ dangerouslySetInnerHTML 사용 (admin 페이지 아이콘)                                │
  ├─────┼────────┼───────────────────────────────────────────────────────────────────────────────────┤
  │ M20 │ 프론트 │ 중복 유틸리티 함수들 (formatDate 등 여러 곳에 산재)                               │
  └─────┴────────┴───────────────────────────────────────────────────────────────────────────────────┘
  ---
  LOW (12건 요약)

  - DB 인덱스 누락 (payments.user_id, news 테이블, seats.event_id)
  - Google OAuth 사용자 빈 password_hash
  - ILIKE 와일드카드 미이스케이프
  - BCrypt 기본 10 rounds (12+ 권장)
  - 비밀번호 최소 6자 (8자+ 권장)
  - Actuator/Prometheus 메트릭 무인증 노출
  - Lambda worker에 userId 평문 로깅
  - EKS 퍼블릭 API 접근 가능성
  - 스크립트에 하드코딩된 dev 시크릿
  - 네임스페이스 네이밍 불일치
  - CSP(Content-Security-Policy) 헤더 없음
  - DB 기본 인증정보 fallback